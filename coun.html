<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>country</title>
</head>
<body>
  <h1>Select Country State City Zip</h1>
  <form class="dropdown-group">
    <select id="Country" size="1">
      <option value="" selected="selected">-- Select Country --</option>
    </select>

    <select id="State" size="1">
      <option value="" selected="selected">-- Select State --</option>
    </select>

    <select id="City" size="1">
      <option value="" selected="selected">-- Select City --</option>
    </select>

    <select id="Zip" size="1">
      <option value="" selected="selected">-- Select Zip --</option>
    </select>
  </form>

  <script>
  // Todo: Create a function that loads the country, state, city, zip

const countryStateInfo = {
  India: {
    Rajasthan: {
      "jaipur": ["302029", "302040",],
      "jodhpur": ["302012", "302001"],
    },
    Uttarpardesh: {
      Agra: ["223007", "282001"],
      Varanasi: ["212011", "221001"],
    },
  },
  Germany: {
    Bavaria: {
      Munich: ["80331", "80333", "80335", "80336"],
      Nuremberg: ["90402", "90403", "90404", "90405"],
    },
    Hessen: {
      Frankfurt: ["60306", "60308", "60309", "60310"],
      Surat: ["55246", "55247", "55248", "55249"],
    },
  },
  Russia: {
     Altai: {
        Kalwad: ["302012", "798698"],
        khatipura: ["645363", "7636352"],
     },
     Tonk: {
        Newai: ["746463", "746643"],
        Didi: ["535636", "735353"],
     },
  },
}
  window.onload = function () {
  //todo: Get all input html elements from the DOM

  const countrySelection = document.querySelector("#Country"),
    stateSelection = document.querySelector("#State"),
    citySelection = document.querySelector("#City"),
    zipSelection = document.querySelector("#Zip");

   // console.log(stateSelection);
    // todo: Disable all  Selection by setting disabled to false
  stateSelection.disabled = true; 
  citySelection.disabled = true; 
  zipSelection.disabled = true; 

       // todo: cleatr all options
          stateSelection.length = 1;
          citySelection.length = 1;
          zipSelection.length = 1;


for (let country in countryStateInfo) {
    countrySelection.options[countrySelection.options.length] = new Option(
      country,
      country
    );
  }    

       // todo: country change

       countrySelection.onchange = (e) => {
        stateSelection.disabled = false;
          // todo: clear all option
        stateSelection.length = 1;
        citySelection.length = 1;
        zipSelection.length = 1;

        for (let state in countryStateInfo[e.target.value]) {
    stateSelection.options[stateSelection.options.length] = new Option(
      state,
      state
    );
  }
      };

      // todo: state change
      stateSelection.onchange = (e) => {
        citySelection.disabled = false;

        citySelection.length = 1;
        zipSelection.length = 1;

        for (let city in countryStateInfo[countrySelection.value][e.target.value]) {
    citySelection.options[citySelection.options.length] = new Option(
      city,
      city
    );
  }
      };

        // todo: city change

      citySelection.onchange = (e) => {
        zipSelection.disabled = false;

        
        zipSelection.length = 1;

        let zips = countryStateInfo[countrySelection.value][stateSelection.value][
          e.target.value];

       for (let i =0 ; i< zips.length ; i++){
        zipSelection.options[zipSelection.options.length] = new Option(
          zips[i],
          zips[i]
        )
       }
    
  }
      };



  

  </script>
</body>
</html>